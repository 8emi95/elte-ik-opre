#include <stdio.h>
#include <stdlib.h>
#include <fcntl.h> //open,creat
#include <sys/types.h> //open
#include <sys/stat.h>
#include <errno.h> //perror, errno
#include <time.h>
#include <string.h>

struct Person{
	char* name;
	char* email;
	int* eventID;
};

void addPerson(char* name, char* email, int* id){
	struct Person p;
	p.name = name;
	p.email = email;
	p.eventID = id;
	printf("person added with %s %s %i\n", p.name, p.email, p.eventID);
}

void modifyPerson(){

}

void deletePerson(){

}

void listGuests(int arr[100]){
	int i;
	printf("Listing guests:\n");
	for (i = 0; i<3; ++i){
		printf("%i\n",arr[i]);
	}
}

void startNewEvent(char c[100]){
	printf("Event with %s. number created!\n", c);

}

void deleteEventData(){


}

void proba(){
    char* name;
    char* mail;
    int id;

   printf("Please input a name: ");
   scanf("%s", &name);
   printf("Please input an email: ");
   scanf("%s", &mail);
   printf("Please input an id: ");
   scanf("%i", &id);
   printf("You entered: %s %s %i\n", &name, &mail, id);
}

int main(){
/*
	int array[100];

	char event[100];

	int data = 234;
	array[0] = 123;
	array[1] = 234;
	array[2] = 345;
	/*int i;
	for (i = 0; i<3; ++i){
		printf("%i\n",array[i]);
	}*/
/*
	deleteEventData(array, data);
	listGuests(array);

//	printf("Enter event number: \n");

//	gets(event);

	char* nev = "AB";
	char* mail = "SS";
	int idd = 11;



	addPerson(nev, mail, idd);

	startNewEvent(event);
*/
//	printf("%c\n", c);
    int i = 0;
	while (1){
		//printf("Enter number: \n");

        if (i == 1){
            proba();
		} else if (i == 2) {
		     char f_name[50];
		     char s_name[50];
            char mail[100];
            int id;
            char fn[50];
   printf("Please input a name: ");
   scanf("%s %s", &f_name, &s_name);
   printf("Please input an email: ");
   scanf("%s", &mail);
   printf("Please input an id: ");
   scanf("%i", &id);
   printf("You entered: %s %s %s %i\n", &f_name, &s_name, &mail, id);
		      FILE *fp;
                fp = fopen(fn, "a");
                fprintf(fp, "%s %s %s %i\n", &f_name, &s_name, &mail, &id);
                fclose(fp);
		} else if (i == 3) {
			FILE *fp;
			char fn_buff[255];
           char sn_buff[255];
            char m_buff[255];
            int i_buff[255];

           fp = fopen("./test.txt", "r");
           fscanf(fp, "%s %s %s %i", fn_buff, sn_buff, m_buff, i_buff);
           printf("1 : %s %s %s %i\n", fn_buff, sn_buff, m_buff, i_buff);
            fscanf(fp, "%d", 0);
/*           fgets(buff, 255, (FILE*)fp);
           printf("2: %s\n", buff );

           fgets(buff, 255, (FILE*)fp);
           printf("3: %s\n", buff );*/
           fclose(fp);
		} else if (i == 4) {
            exit(0);
		}
		printf("Choose\n");
        scanf("%i", &i);
	}

	return 0;
}
